@{
    ViewData["Title"] = "Ana Sayfa";
}

<div class="login-register-bg">
    <div class="login-register-form" style="width:100%;max-width:800px;">
        @if (User?.Identity?.IsAuthenticated == true && ViewBag.UpcomingReservations != null)
        {
            <h3 class="text-center mb-4">Bildirimler</h3>
            <div class="notification-area mt-2 mb-2">
                @if (ViewBag.UpcomingReservations.Count > 0)
                {
                    <div class="list-group">
                        @foreach (var reservation in ViewBag.UpcomingReservations)
                        {
                            <div class="list-group-item notification-item p-3 mb-2">
                                <div class="d-flex w-100 justify-content-between">
                                    <h5 class="mb-1">@reservation.EventName</h5>
                                    <small>@((reservation.StartTime - DateTime.Now).TotalHours.ToString("0.0")) saat kaldı</small>
                                </div>
                                <p class="mb-1">Toplantı Odası: @reservation.MeetingRoom.Name</p>
                                <small>@reservation.StartTime.ToString("dd MMMM yyyy HH:mm") - @reservation.EndTime.ToString("HH:mm")</small>
                            </div>
                        }
                    </div>
                }
                else
                {
                    <div class="alert alert-info">
                        <p class="mb-0">Yaklaşan bildiriminiz bulunmamaktadır.</p>
                    </div>
                }
            </div>
        }
        else
        {
            <div class="text-center">
                <p class="mt-4">Toplantı odalarını görüntülemek ve rezervasyon yapmak için <a href="/MeetingRooms" class="btn btn-primary">Toplantı Odaları</a> sayfasını ziyaret edebilirsiniz.</p>
            </div>
        }
    </div>
</div>
